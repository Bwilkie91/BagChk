<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta charset="UTF-8">
    <title>Book Luggage Storage - Bagchk</title>
    <link rel="stylesheet" href="dist/styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
     <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --background-light: #f9fafb;
            --shadow: rgba(0, 0, 0, 0.1);
        }
        .btn-primary {
            background-color: var(--primary);
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }
        .btn-secondary {
            background-color: var(--background-light);
            color: var(--text, #333);
            border: 1px solid var(--text-light, #6b7280);
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .btn-secondary:hover {
            background-color: #e5e7eb;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        input, select, textarea {
            border: 1px solid var(--text-light, #d1d5db);
            border-radius: 6px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        .valid-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            display: none;
        }
        input.valid + .valid-icon,
        select.valid + .valid-icon {
            display: block;
            color: var(--success, #10b981);
        }
        /* Mobile-specific styles */
        @media (max-width: 640px) {
            body { font-size: 0.875rem; }
            nav .max-w-7xl, .booking-container, .footer-container {
                padding-left: 0.75rem; padding-right: 0.75rem; max-width: 100vw;
            }
            h1 { font-size: 1.5rem; }
            h2 { font-size: 1.25rem; }
            h3 { font-size: 1rem; }
            .booking-grid { display: flex; flex-direction: column; gap: 1.5rem;}
            .carousel-container { min-height: 120px; max-height: 140px;}
            .carousel-item { background-size: cover; background-position: center; height: 120px;}
            .progress-bar { flex-direction: column; gap: 0.5rem;}
            .booking-summary, #map { min-width: 0; width: 100% !important; max-width: 100vw; height: 200px;}
            .form-group, .form-section { width: 100%; min-width: 0;}
            .form-group input, .form-group select, .form-group textarea, .form-group button {
                font-size: 0.875rem; padding: 0.75rem; min-height: 44px; box-sizing: border-box;
            }
            .form-navigation { flex-direction: column; gap: 0.75rem;}
            .nav-links { position: absolute; top: 100%; left: 0; right: 0; background: var(--background, #fff); flex-direction: column; display: none; z-index: 99; padding: 0.75rem;}
            .nav-links.active { display: flex; }
            .hamburger { display: flex !important; }
            .footer-container { flex-direction: column; gap: 1rem; padding-bottom: 1.5rem;}
            .modal-content { width: 90vw; min-width: unset; max-width: 100vw; padding: 1rem; box-sizing: border-box;}
            .qr-container { display: flex; flex-direction: column; align-items: center; gap: 1rem;}
            #qrcode { width: 180px; height: 180px; }
            #download-qr, #add-to-calendar, #modal-close { width: 100%; min-height: 48px; font-size: 0.875rem; }
        }
        /* Desktop-specific styles */
        @media (min-width: 641px) {
            body { font-size: 1rem; }
            nav .max-w-7xl, .booking-container, .footer-container {
                max-width: 1280px; padding-left: 2rem; padding-right: 2rem; margin-left: auto; margin-right: auto;
            }
            h1 { font-size: 2.5rem; line-height: 1.2;}
            h2 { font-size: 1.75rem;}
            h3 { font-size: 1.25rem;}
            .booking-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;}
            .carousel-container { min-height: 200px; max-height: 240px;}
            .carousel-item { background-size: cover; background-position: center; height: 200px;}
            .progress-bar { display: flex; flex-direction: row; gap: 1.5rem; justify-content: center;}
            .progress-step { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-width: 120px;}
            .booking-summary, #map {
                width: 100%; height: 400px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }
            .form-group, .form-section { width: 100%; }
            .form-group input, .form-group select, .form-group textarea, .form-group button {
                font-size: 1rem; padding: 1rem; min-height: 48px; border-radius: 6px;
            }
            .form-navigation { display: flex; flex-direction: row; gap: 1rem; justify-content: flex-end;}
            .nav-links { display: flex; flex-direction: row; position: static; background: none; padding: 0;}
            .nav-links a { font-size: 1rem; padding: 0.5rem 1rem;}
            .hamburger { display: none; }
            .footer-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; padding: 2rem 0;}
            .modal-content { width: 600px; max-width: 90vw; padding: 2rem; border-radius: 12px;}
            .qr-container { display: flex; flex-direction: column; align-items: center; gap: 1.5rem;}
            #qrcode { width: 240px; height: 240px; }
            #download-qr, #add-to-calendar, #modal-close { padding: 0.75rem 1.5rem; font-size: 1rem; min-height: 52px;}
            .btn-primary { padding: 0.75rem 1.5rem; font-size: 1rem; transition: background-color 0.3s, transform 0.2s;}
            .btn-primary:hover { background-color: var(--primary-dark); transform: translateY(-2px);}
            .btn-secondary { padding: 0.75rem 1.5rem; font-size: 1rem;}
            .trust-section { display: flex; align-items: center; gap: 1rem; font-size: 1rem; padding: 1rem; background: var(--background-light); border-radius: 8px; margin-bottom: 1.5rem;}
            #distance-info { font-size: 1rem; }
        }
        /* General styles (unchanged) */
        .hamburger { display: none; flex-direction: column; gap: 4px; justify-content: center; align-items: center; width: 32px; height: 32px; background: none; border: none; cursor: pointer; }
        .hamburger div { width: 24px; height: 3px; background: var(--text, #333); border-radius: 2px; transition: all 0.3s;}
        .select-container { position: relative; width: 100%; }
        .select-container select {
            appearance: none; -webkit-appearance: none; -moz-appearance: none;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>') no-repeat right 1.2rem center/1.2em;
            padding-right: 2.5rem; max-height: 150px; overflow-y: auto;
        }
        .select-container select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);}
        .select-container select.error { border-color: var(--error);}
        .select-container select.valid { border-color: var(--success);}
        .confetti { position: fixed; width: 8px; height: 8px; opacity: 0.8; animation: fall 2s linear;}
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        ::selection { background: var(--primary, #2563eb); color: #fff;}
        [data-theme="dark"] ::selection { background: var(--primary, #60a5fa); color: #000;}
        /* --- QR Summary Box --- */
        .qr-summary-box {
            max-width: 350px;
            font-size: 1.08rem;
            background: var(--background-light,#f9fafb);
            border-radius: 18px;
            box-shadow: 0 2px 12px rgba(37,99,235,0.13);
            margin-bottom: 1.5rem;
            border: 1.5px solid #e0e7ef;
            padding: 1.5rem 1rem;
            text-align: center;
        }
        .qr-summary-box .big {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary,#2563eb);
            margin-bottom: 0.45em;
        }
        .qr-summary-box .item {
            margin: 0.15em 0;
            font-weight: 500;
        }
        .qr-summary-box .label {
            color: var(--text-light,#6b7280);
            font-weight: 400;
        }
        /* --- QR code box --- */
        .qr-box {
            background: white;
            border-radius: 16px;
            box-shadow: 0 1px 8px rgba(37,99,235,0.10);
            padding: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5em;
        }
    </style>
</head>
<body>
    <nav>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="index.html" aria-label="Bagchk Home"><img src="/Bagchk2/images/logo.jpg" alt="Bagchk Logo" class="h-8 sm:h-9 lg:h-10 max-w-[130px] object-contain" loading="lazy"></a>
                <div class="flex items-center gap-3">
                    <button class="theme-toggle" aria-label="Toggle dark mode">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 5v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                    </button>
                    <button class="hamburger" aria-label="Toggle navigation menu" role="button"><div></div><div></div><div></div></button>
                </div>
                     <div class="nav-links flex items-center gap-3 sm:gap-5 lg:gap-6">
                    <a href="index.html#home" class="text-[var(--text)] hover:text-[var(--primary)] p-2 rounded transition">Home</a>
                    <a href="index.html#services" class="text-[var(--text)] hover:text-[var(--primary)] p-2 rounded transition">Services</a>
                    <a href="index.html#contact" class="text-[var(--text)] hover:text-[var(--primary)] p-2 rounded transition">Contact</a>
                    <a href="booking.html#book" class="btn btn-primary p-2 sm:px-4 rounded">Book Now</a>
                </div>
            </div>
        </div>
    </nav>
 <section id="book" class="booking-section">
        <div class="booking-container">
            <div class="carousel-container" role="region" aria-label="Promotional images carousel">
                <div class="carousel-item active" style=" Easter Egg! You're a curious one, aren't you? 🕵️‍♂️ Here's a fun fact: Chicago's nickname 'The Windy City' isn't just about the weather—it's also a nod to its long-winded politicians! Keep exploring, and maybe you'll find more hidden gems! 😎"></div>
                <div class="carousel-item" style="background-image: url('/Bagchk2/images/sports.jpg')"></div>
                <div class="carousel-item" style="background-image: url('/Bagchk2/images/mpark.jpg')"></div>
            </div>
 
            <h1 class="text-center mb-4">Secure Your Storage in Just a Minute!</h1>
            <div id="distance-info" class="text-center text-[var(--text-light)] mb-6" aria-live="polite"></div>
            <div class="trust-section">
                <svg class="w-6 h-6 text-[var(--primary)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <p>Over 5,000 travelers trust Bagchk! “Super easy and secure!” – John D.</p>
                <div class="flex gap-1 ml-2">
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
                    </svg>
                    <span>4.8/5</span>
                </div>
            </div>
            <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="3" aria-label="Booking progress">
                <div class="progress-step active" data-step="personal"><span class="step-number">1</span> Personal Info<div class="tooltip">Enter your contact details</div></div>
                <div class="progress-step" data-step="storage"><span class="step-number">2</span> Storage Details<div class="tooltip">Choose location and timing</div></div>
                <div class="progress-step" data-step="preferences"><span class="step-number">3</span> Preferences<div class="tooltip">Add extras and confirm</div></div>
            </div>
            <div class="booking-grid">
                <div>
                    <h2 class="font-semibold mb-4">Your Booking Details</h2>
                    <form id="booking-form" novalidate>
                        <div class="form-section active" data-step="personal">
                            <h3 class="font-semibold mb-2">Tell Us About You</h3>
                            <div class="form-group required">
                                <label for="name">Your Full Name</label>
                                <input type="text" id="name" class="w-full" placeholder="e.g., Jane Doe" aria-describedby="name-error name-hint" required>
                                <span class="helper-text" id="name-hint">Enter your full name as it appears on your ID</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="name-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group required">
                                <label for="email">Your Email Address</label>
                                <input type="email" id="email" class="w-full" placeholder="e.g., jane@example.com" aria-describedby="email-error email-hint" required>
                                <span class="helper-text" id="email-hint">We’ll send your booking confirmation here</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="email-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number (Optional)</label>
                                <input type="tel" id="phone" class="w-full" placeholder="e.g., +1 555-123-4567" aria-describedby="phone-error phone-hint">
                                <span class="helper-text" id="phone-hint">For urgent contact if needed</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="phone-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-navigation mt-4">
                                <button type="button" class="btn btn-primary w-full sm:w-auto" data-next="storage" disabled aria-label="Go to storage details step">Next: Storage Details</button>
                            </div>
                        </div>
                        <div class="form-section" data-step="storage">
                            <h3 class="font-semibold mb-2">Storage Details</h3>
                            <div class="form-group required select-container">
                                <label for="location">Where Are We Storing Your Bags?</label>
                                <select id="location" class="w-full" aria-describedby="location-error location-hint" required>
                                    <option value="">Select a storage location</option>
                                    <option value="Downtown Storage - Michigan Ave">Downtown Storage - Michigan Ave (100 N Michigan Ave, Chicago, IL 60601)</option>
                                    <option value="Loop Storage - State St">Loop Storage - State St (200 S State St, Chicago, IL 60604)</option>
                                    <option value="River North Storage">River North Storage (300 N Clark St, Chicago, IL 60654)</option>
                                    <option value="Millennium Park Storage">Millennium Park Storage (201 E Randolph St, Chicago, IL 60602)</option>
                                    <option value="Navy Pier Storage">Navy Pier Storage (600 E Grand Ave, Chicago, IL 60611)</option>
                                    <option value="Lincoln Park Zoo Storage">Lincoln Park Zoo Storage (2001 N Clark St, Chicago, IL 60614)</option>
                                    <option value="Wrigley Field Storage">Wrigley Field Storage (1060 W Addison St, Chicago, IL 60613)</option>
                                    <option value="Museum Campus Storage">Museum Campus Storage (1400 S Lake Shore Dr, Chicago, IL 60605)</option>
                                    <option value="Chicago Riverwalk Storage">Chicago Riverwalk Storage (100 E Wacker Dr, Chicago, IL 60601)</option>
                                    <option value="Magnificent Mile Storage">Magnificent Mile Storage (875 N Michigan Ave, Chicago, IL 60611)</option>
                                    <option value="Pilsen Art Storage">Pilsen Art Storage (1850 S Blue Island Ave, Chicago, IL 60608)</option>
                                    <option value="Chicago Cultural Center Storage">Chicago Cultural Center Storage (78 E Washington St, Chicago, IL 60602)</option>
                                    <option value="Wicker Park Storage">Wicker Park Storage (1400 N Milwaukee Ave, Chicago, IL 60622)</option>
                                </select>
                                <span class="helper-text" id="location-hint">Select a Bagchk location in Chicago</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="location-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group required">
                                <label for="start-date">When Do You Want to Start?</label>
                                <input type="datetime-local" id="start-date" class="w-full" aria-describedby="start-date-error start-date-hint" required>
                                <span class="helper-text" id="start-date-hint">Must be at least 1 hour from now</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="start-date-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group required">
                                <label for="end-date">When Will You Pick Up?</label>
                                <input type="datetime-local" id="end-date" class="w-full" aria-describedby="end-date-error end-date-hint" required>
                                <span class="helper-text" id="end-date-hint">Must be after start time</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="end-date-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group required">
                                <label for="bag-count">How Many Bags?</label>
                                <input type="number" id="bag-count" min="1" max="10" class="w-full" placeholder="e.g., 2" aria-describedby="bag-count-error bag-count-hint" required>
                                <span class="helper-text" id="bag-count-hint">Enter the total number of bags (max 10)</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="bag-count-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group required">
                                <label for="bag-type">Bag Type/Size</label>
                                <select id="bag-type" class="w-full" aria-describedby="bag-type-error bag-type-hint" required>
                                    <option value="">Select bag type</option>
                                    <option value="standard">Standard (backpack, suitcase)</option>
                                    <option value="oversized">Oversized (sports gear, large bags)</option>
                                </select>
                                <span class="helper-text" id="bag-type-hint">Standard: up to 30x20x12 in; Oversized: larger items</span>
                                <svg class="valid-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <div id="bag-type-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-navigation mt-4 flex gap-4">
                                <button type="button" class="btn btn-secondary w-full sm:w-auto" data-prev="personal" aria-label="Go to personal info step">Previous</button>
                                <button type="button" class="btn btn-primary w-full sm:w-auto" data-next="preferences" disabled aria-label="Go to preferences step">Next: Preferences</button>
                            </div>
                        </div>
                        <div class="form-section" data-step="preferences">
                            <h3 class="font-semibold mb-2">Additional Preferences</h3>
                            <div class="form-group checkbox required">
                                <input type="checkbox" id="prohibited-items" required aria-describedby="prohibited-items-error">
                                <label for="prohibited-items">I confirm my luggage contains no prohibited items (<a href="#prohibited-items" class="text-[var(--primary)] hover:underline">view list</a>)</label>
                                <div id="prohibited-items-error" class="error-message" role="alert"></div>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="insurance" aria-describedby="insurance-hint">
                                <label for="insurance">Add insurance ($5 per bag, up to $500 coverage)</label>
                                <span class="helper-text" id="insurance-hint">Covers loss or damage</span>
                            </div>
                            <div class="form-group">
                                <label for="special-instructions">Any Special Requests?</label>
                                <textarea id="special-instructions" class="w-full" placeholder="e.g., Fragile items, accessibility needs" aria-describedby="special-instructions-hint"></textarea>
                                <span class="helper-text" id="special-instructions-hint">Let us know any specific needs</span>
                            </div>
                            <div class="form-navigation mt-4 flex gap-4">
                                <button type="button" class="btn btn-secondary w-full sm:w-auto" data-prev="storage" aria-label="Go to storage details step">Previous</button>
                                <button type="submit" id="book-now" class="btn btn-primary w-full sm:w-auto pulse" disabled>Confirm Booking</button>
                            </div>
                        </div>
                        <div class="mt-4">
                            <button type="button" id="reset-form" class="btn btn-secondary w-full sm:w-auto">Reset Form</button>
                            <div id="price-info" class="text-[var(--text-light)] mt-2" aria-live="polite"></div>
                        </div>
                    </form>
                </div>
                <div>
                    <h2 class="font-semibold mb-4">Find a Storage Location</h2>
                    <p class="text-[var(--text-light)] mb-4">Allow location access to find the nearest Bagchk spot in Chicago.</p>
                    <button id="find-location" class="btn btn-primary mb-4" aria-label="Find my location">Use My Location</button>
                    <div id="map" role="region" aria-label="Map showing storage locations" tabindex="0">
                        <div class="map-tooltip">Click a pin to select a location</div>
                        <div id="map-loading" class="map-loading">
                            <div class="spinner"></div>
                            <span>Locating...</span>
                        </div>
                    </div>
                    <div class="booking-summary" aria-live="polite">
                        <h3>Booking Summary</h3>
                        <div id="summary-content"><p>Start filling out the form to see your summary.</p></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
<style>
/* Additional style for appealing QR summary */
.qr-summary-box {
    max-width: 350px;
    font-size: 1.08rem;
    background: var(--background-light,#f9fafb);
    border-radius: 18px;
    box-shadow: 0 2px 12px rgba(37,99,235,0.13);
    margin-bottom: 1.5rem;
    border: 1.5px solid #e0e7ef;
    padding: 1.5rem 1rem;
    text-align: center;
}
.qr-summary-box .big {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary,#2563eb);
    margin-bottom: 0.45em;
}
.qr-summary-box .item {
    margin: 0.15em 0;
    font-weight: 500;
}
.qr-summary-box .label {
    color: var(--text-light,#6b7280);
    font-weight: 400;
}
@media (max-width: 640px) {
    .qr-summary-box { padding: 1rem 0.6rem; font-size: 1rem; }
}
</style>


    
<script>
// --- Enhance QR summary in modal ---
function formatDateTime(dt) {
    if (!dt) return '';
    return new Date(dt).toLocaleString('en-US', { dateStyle: 'medium', timeStyle: 'short', timeZone: 'America/Chicago' });
}
function getBookingSummaryHTML(inputs) {
    return `
        <div class="big">Bagchk Booking</div>
        <div class="item"><span class="label">Name:</span> ${inputs.name.value ? sanitizeInput(inputs.name.value) : '<em>Not provided</em>'}</div>
        <div class="item"><span class="label">Location:</span> ${inputs.location.value ? sanitizeInput(inputs.location.value) : '<em>Not selected</em>'}</div>
        <div class="item"><span class="label">Bags:</span> ${inputs.bagCount.value || 0} (${inputs.bagType.value ? sanitizeInput(inputs.bagType.value) : 'Not selected'})</div>
        <div class="item"><span class="label">Drop-off:</span> ${formatDateTime(inputs.startDate.value)}</div>
        <div class="item"><span class="label">Pick-up:</span> ${formatDateTime(inputs.endDate.value)}</div>
        ${inputs.insurance.checked ? `<div class="item"><span class="label">Insurance:</span> <span style="color:#10b981;font-weight:600">✔ Included</span></div>` : ''}
        ${inputs.specialInstructions.value ? `<div class="item"><span class="label">Special:</span> ${sanitizeInput(inputs.specialInstructions.value)}</div>` : ''}
        <div class="item" style="margin-top:0.5em;color:#4b5563;font-size:.98em;">Show this summary at storage location</div>
    `;
}

// Patch the code that opens the confirmation modal to use the new summary
function fillQRSummary() {
    const qrSummary = document.getElementById('qr-summary');
    if (qrSummary) {
        qrSummary.innerHTML = getBookingSummaryHTML(inputs);
    }
}

// You likely have code like this when booking is confirmed:
// function showConfirmationModal() {
    fillQRSummary();
    // ...other modal open logic (likely already present)...
}
// If you have an event or function that shows the modal, ensure `fillQRSummary()` is called before displaying.

// If you use a modal show code elsewhere, just add `fillQRSummary();` before display logic.

// Optionally, you can call fillQRSummary() wherever you update or show the modal.
</script>
     <div id="confirmation-modal" class="modal">
        <div class="modal-content">
            <h2 class="font-semibold mb-4">🎉 Booking Confirmed!</h2>
            <!-- Appealing summary box -->
            <div id="qr-summary" class="qr-summary-box mb-4"></div>
            <p class="text-[var(--text-light)] mb-4">Show this QR code or a valid ID to drop off and pick up your luggage.</p>
            <div class="qr-container" style="align-items: center;">
                <div class="qr-box">
                    <div id="qrcode" role="img" aria-label="QR code containing booking details"
                        style="width: 180px; height: 180px;">
                    </div>
                </div>
                <button id="download-qr" class="btn btn-primary">Download QR Code</button>
                <button id="add-to-calendar" class="btn btn-primary">Add to Calendar</button>
            </div>
            <div class="flex justify-end gap-4 mt-4">
                <button id="modal-close" class="btn btn-primary">Done</button>
            </div>
            <p class="text-[var(--text-light)] mt-4">Want storage tips and discounts? <a href="#newsletter" class="text-[var(--primary)] hover:underline">Join our newsletter!</a></p>
        </div>
    </div>
    <footer>
        <div class="footer-container">
            <div>
                <h3 class="font-semibold mb-4">Bagchk</h3>
                <p class="text-[var(--text-light)]">Secure luggage storage in Chicago. Just Hand It To Us.</p>
            </div>
            <div>
                <h3 class="font-semibold mb-3">Quick Links</h3>
                <ul class="text-[var(--text-light)] space-y-2">
                    <li><a href="index.html#home" class="hover:text-[var(--primary)] transition">Home</a></li>
                    <li><a href="index.html#services" class="hover:text-[var(--primary)] transition">Services</a></li>
                    <li><a href="index.html#contact" class="hover:text-[var(--primary)] transition">Contact</a></li>
                    <li><a href="#book" class="hover:text-[var(--primary)] transition">Book Now</a></li>
                </ul>
            </div>
            <div>
                <h3 class="font-semibold mb-3">Connect</h3>
                <ul class="text-[var(--text-light)] space-y-2">
                    <li><a href="#newsletter" class="hover:text-[var(--primary)] transition">Newsletter</a></li>
                    <li><a href="#support" class="hover:text-[var(--primary)] transition">Support</a></li>
                    <li><a href="#faq" class="hover:text-[var(--primary)] transition">FAQ</a></li>
                </ul>
            </div>
        </div>
    </footer>
    <script>
        // ... existing code ... (utility, form logic, etc.)
        // --- Enhance QR summary in modal ---
        function formatDateTime(dt) {
            if (!dt) return '';
            return new Date(dt).toLocaleString('en-US', { dateStyle: 'medium', timeStyle: 'short', timeZone: 'America/Chicago' });
        }
        function getBookingSummaryHTML(inputs) {
            return `
                <div class="big">Bagchk Booking</div>
                <div class="item"><span class="label">Name:</span> ${inputs.name.value ? sanitizeInput(inputs.name.value) : '<em>Not provided</em>'}</div>
                <div class="item"><span class="label">Location:</span> ${inputs.location.value ? sanitizeInput(inputs.location.value) : '<em>Not selected</em>'}</div>
                <div class="item"><span class="label">Bags:</span> ${inputs.bagCount.value || 0} (${inputs.bagType.value ? sanitizeInput(inputs.bagType.value) : 'Not selected'})</div>
                <div class="item"><span class="label">Drop-off:</span> ${formatDateTime(inputs.startDate.value)}</div>
                <div class="item"><span class="label">Pick-up:</span> ${formatDateTime(inputs.endDate.value)}</div>
                ${inputs.insurance && inputs.insurance.checked ? `<div class="item"><span class="label">Insurance:</span> <span style="color:#10b981;font-weight:600">✔ Included</span></div>` : ''}
                ${inputs.specialInstructions && inputs.specialInstructions.value ? `<div class="item"><span class="label">Special:</span> ${sanitizeInput(inputs.specialInstructions.value)}</div>` : ''}
                <div class="item" style="margin-top:0.5em;color:#4b5563;font-size:.98em;">Show this summary at storage location</div>
            `;
        }
        function fillQRSummary(inputs) {
            const qrSummary = document.getElementById('qr-summary');
            if (qrSummary) {
                qrSummary.innerHTML = getBookingSummaryHTML(inputs);
            }
        }
        // Call fillQRSummary() before showing the QR modal.
        // Example: In your booking-confirmed code, before displaying the modal, call:
        // fillQRSummary(inputs);

        // --- QR code display ---
        // Example QR setup (adjust if your logic is different)
        function showConfirmationModal() {
            fillQRSummary(inputs);
            // ... existing show modal logic ...
            document.getElementById('confirmation-modal').style.display = 'block';
            // draw the QR code
            const qrcodeDiv = document.getElementById('qrcode');
            if(qrcodeDiv) {
                qrcodeDiv.innerHTML = ""; // clear previous QR
                // Use a nice string for QR, e.g. JSON of booking
                var qrData = JSON.stringify({
                    name: inputs.name.value,
                    location: inputs.location.value,
                    bags: inputs.bagCount.value,
                    bagType: inputs.bagType.value,
                    startDate: inputs.startDate.value,
                    endDate: inputs.endDate.value,
                    insurance: inputs.insurance && inputs.insurance.checked,
                    special: inputs.specialInstructions.value
                });
                new QRCode(qrcodeDiv, {
                    text: qrData,
                    width: 180,
                    height: 180,
                    correctLevel: QRCode.CorrectLevel.H
                });
            }
        }
        // Attach showConfirmationModal to your booking submit logic.
        // ... rest of your JS unchanged ...
    </script>
</body>
</html>
